<Window x:Class="EloksalPro.View.PriceListView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        xmlns:viewModel="clr-namespace:EloksalPro.ViewModels" 
        xmlns:local="clr-namespace:EloksalPro.View"
        mc:Ignorable="d"
        Title="ClientCardView" Height="600" Width="850"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        AllowsTransparency="True">
    <Window.DataContext>
        <viewModel:PriceListViewModel/>
    </Window.DataContext>
    <Border CornerRadius="12">
        <Border.Background>
            <ImageBrush ImageSource="/Images/background.jpg"/>
        </Border.Background>
        <Border CornerRadius="10"                    
            BorderThickness="3"
            Opacity="0.95">
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FF1B4968" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>
            <Border.Background>
                <LinearGradientBrush StartPoint="0,1" EndPoint="1,0">
                    <GradientStop Color="#FF6C0618" Offset="0"/>
                    <GradientStop Color="#FF3C3B42" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="20"/>
                    <RowDefinition Height="40"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="50"/>
                </Grid.RowDefinitions>
                <StackPanel x:Name="pnlControlBar"
                                Grid.Row="0"
                                Orientation="Horizontal"
                                FlowDirection="RightToLeft"
                                Background="Transparent"
                                MouseLeftButtonDown="pnlControlBar_MouseLeftButtonDown"
                                MouseEnter="pnlControlBar_MouseEnter">
                    <Button x:Name="btnClose"
                                Style="{StaticResource controlButton}"
                                Tag="{StaticResource color4}" 
                                Click="btnClose_Click" HorizontalAlignment="Right" Width="20" >
                        <fa:IconImage Icon="PowerOff" Style="{StaticResource controlButtonIcon}"  />
                    </Button>
                    <Button x:Name="btnMinimize"  Width="20"
                                Style="{StaticResource controlButton}" 
                                Tag="{StaticResource color8}"
                                Click="btnMinimize_Click">
                        <fa:IconImage Icon="WindowMinimize" Style="{StaticResource controlButtonIcon}"/>
                    </Button>
                </StackPanel>
                <Grid Grid.Row="1">
                    <TextBlock Grid.Column="0"  Text="Прайс-лист"  Style="{StaticResource controlTextBlock}"  Margin="5" FontSize="18" />
                </Grid>

                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="280"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="285"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Column="0" Grid.Row="0"  Text="Наименование заказчика:" 
                      Style="{StaticResource controlTextBlock}"/>
                    <TextBlock Grid.Column="0" Grid.Row="1"  Text="Номенклатура профиля:" 
                      Style="{StaticResource controlTextBlock}"/>
                    <TextBlock Grid.Column="0" Grid.Row="2"  Text="Номер профиля заказчика:" 
                       Style="{StaticResource controlTextBlock}"/>
                    <TextBlock Grid.Column="0" Grid.Row="3"  Text="Цена руб/М²:" 
                       Style="{StaticResource controlTextBlock}"/>
                    <TextBlock Grid.Column="0" Grid.Row="4"  Text="Цена руб/кг:" 
                       Style="{StaticResource controlTextBlock}"/>
                    <TextBlock Grid.Column="0" Grid.Row="5"  Text="Цена руб/П.М:" 
                       Style="{StaticResource controlTextBlock}"/>
                    <TextBox Grid.Column="0" Grid.Row="8"  x:Name="txtIdClient" Visibility="Hidden"
                       Text="{Binding  IdPrice,UpdateSourceTrigger=PropertyChanged}"
                       Style="{StaticResource controlText}" />
                    <!--<TextBox Grid.Column="1" Grid.Row="2" x:Name="txtProfileCode" Grid.ColumnSpan="2"  
                       Text="{Binding  NomenclatureProfile,UpdateSourceTrigger=PropertyChanged}"
                       Style="{StaticResource controlText}" IsEnabled="False"/>-->
                    <TextBox Grid.Column="1" Grid.Row="3" x:Name="txtPriceProfileArea" Grid.ColumnSpan="2" 
                       Text="{Binding AreaPrice ,UpdateSourceTrigger=PropertyChanged,ConverterCulture=de-DE,StringFormat=\{0:f2\},ValidatesOnNotifyDataErrors=True}"
                       Style="{StaticResource controlText}"/>
                    <TextBox Grid.Column="1" Grid.Row="4" x:Name="txtPriceProfileKg" Grid.ColumnSpan="2" 
                       Text="{Binding KgPrice,UpdateSourceTrigger=PropertyChanged,ConverterCulture=de-DE}"      
                       Style="{StaticResource controlText}" IsEnabled="False"/>
                    <TextBox Grid.Column="1" Grid.Row="5" x:Name="txtPriceProfileMetr" Grid.ColumnSpan="2" 
                       Text="{Binding MetrPrice,UpdateSourceTrigger=PropertyChanged,ConverterCulture=de-DE}"
                       Style="{StaticResource controlText}" IsEnabled="False"/>
                    <ComboBox Grid.Column="1" Grid.Row="0" x:Name="txtClientName" Grid.ColumnSpan="2" 
                    	ItemsSource="{Binding ClientPriceList, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding ClientPriceSource, Mode=TwoWay}"  Margin="3"  />
                    <!--<ComboBox Grid.Column="1" Grid.Row="1" x:Name="txtNoClientProfile" Grid.ColumnSpan="2" 
                    	ItemsSource="{Binding ProfileNoList, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding ProfileNoSource, Mode=TwoWay}"  Margin="3" />-->
                    <TextBox Grid.Column="1" Grid.Row="2" x:Name="txtProfileCode" Grid.ColumnSpan="2"  
                       Text="{Binding  NomenclatureProfile,UpdateSourceTrigger=PropertyChanged}"
                       Style="{StaticResource controlText}" IsEnabled="False"/>
                    <ComboBox Grid.Column="1" Grid.Row="1" x:Name="txtNomenclatureProfile" Grid.ColumnSpan="2" 
                    	ItemsSource="{Binding ProfileList, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding ProfileSource, Mode=TwoWay}"  Margin="3"  IsEditable="True"/>

                    <TextBlock Grid.Column="0" Grid.Row="7"  Text="Вид покрытия" Style="{StaticResource controlTextBlock}"/>
                    <TextBlock Grid.Column="1" Grid.Row="7"  Text="Цвет покрытия" Style="{StaticResource controlTextBlock}"/>
                    <TextBlock Grid.Column="2" Grid.Row="7"  Text="Дополнительные услуги" Style="{StaticResource controlTextBlock}"/>
                    <dxg:GridControl    Grid.Column="0" Grid.Row="8"  Name="gridControlType"   EnableSmartColumnsGeneration="True" ItemsSource="{Binding CharacteristicProfileType}" Margin="5" >
                        <dxg:GridControl.Columns>
                            <dxg:GridColumn FieldName="Id" Header="Id" Visible="False"/>
                            <dxg:GridColumn FieldName="ProfilePropertyName" Header="Наименование услуги"  Visible="false"/>
                            <dxg:GridColumn FieldName="ProfilePropertyMarking" Header="Код" Width="30"/>
                            <dxg:GridColumn FieldName="ProfilePropertyDescription" Header="Описание" />
                        </dxg:GridControl.Columns>
                        <dxg:GridControl.View>
                            <dxg:TableView Name="tableViewType" ShowTotalSummary="True" FontSize="14"   AllowEditing="False" AutoWidth="True" NewItemRowPosition="Bottom" FontFamily="Times New Roman"  >
                                <dxg:TableView.ColumnHeaderTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap"/>
                                    </DataTemplate>
                                </dxg:TableView.ColumnHeaderTemplate>
                                <dxg:TableView.RowStyle>
                                    <Style>
                                        <Setter Property="TextElement.Foreground" Value="Black"/>
                                    </Style>
                                </dxg:TableView.RowStyle>
                            </dxg:TableView>
                        </dxg:GridControl.View>
                    </dxg:GridControl>
                    <dxg:GridControl   Grid.Column="1" Grid.Row="8"  Name="gridControlColor"   EnableSmartColumnsGeneration="True" ItemsSource="{Binding CharacteristicProfileColor}" Margin="5" >
                        <dxg:GridControl.Columns>
                            <dxg:GridColumn FieldName="Id" Header="Id" Visible="False"/>
                            <dxg:GridColumn FieldName="ProfilePropertyName" Header="Наименование услуги" Width="100" Visible="false"/>
                            <dxg:GridColumn FieldName="ProfilePropertyMarking" Header="Код " Width="30"/>
                            <dxg:GridColumn FieldName="ProfilePropertyDescription" Header="Описание" />
                        </dxg:GridControl.Columns>
                        <dxg:GridControl.View>
                            <dxg:TableView Name="tableViewColor" ShowTotalSummary="True" FontSize="14"   AllowEditing="False" AutoWidth="True" NewItemRowPosition="Bottom" FontFamily="Times New Roman"  >
                                <dxg:TableView.ColumnHeaderTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap"/>
                                    </DataTemplate>
                                </dxg:TableView.ColumnHeaderTemplate>
                                <dxg:TableView.RowStyle>
                                    <Style>
                                        <Setter Property="TextElement.Foreground" Value="Black"/>
                                    </Style>
                                </dxg:TableView.RowStyle>
                            </dxg:TableView>
                        </dxg:GridControl.View>
                    </dxg:GridControl>

                    <dxg:GridControl    Grid.Column="2" Grid.Row="8"  Name="gridControlAdditional"   EnableSmartColumnsGeneration="True" ItemsSource="{Binding CharacteristicProfileAdditional}" Margin="5" >
                        <dxg:GridControl.Columns>
                            <dxg:GridColumn FieldName="Id" Header="Id" Visible="False"/>
                            <dxg:GridColumn FieldName="ProfilePropertyName" Header="Наименование услуги" Width="100" Visible="false"/>
                            <dxg:GridColumn FieldName="ProfilePropertyMarking" Header="Код" Width="30"/>
                            <dxg:GridColumn FieldName="ProfilePropertyDescription" Header="Описание" />
                        </dxg:GridControl.Columns>
                        <dxg:GridControl.View>
                            <dxg:TableView Name="tableViewAdditional" ShowTotalSummary="True" FontSize="14"   AllowEditing="False" AutoWidth="True" NewItemRowPosition="Bottom" FontFamily="Times New Roman"  >
                                <dxg:TableView.ColumnHeaderTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap"/>
                                    </DataTemplate>
                                </dxg:TableView.ColumnHeaderTemplate>
                                <dxg:TableView.RowStyle>
                                    <Style>
                                        <Setter Property="TextElement.Foreground" Value="Black"/>
                                    </Style>
                                </dxg:TableView.RowStyle>
                            </dxg:TableView>
                        </dxg:GridControl.View>
                    </dxg:GridControl>
             
            </Grid>
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="285"/>
                        <ColumnDefinition Width="285"/>
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="1"  x:Name="btnOpenReference" 
                            Command="{Binding OpenCardProfileCommand }"
                            Content="OPEN CARD PROFILE" Style="{StaticResource controlButtonGray}" HorizontalAlignment="Right" Margin="0,0,5,0" />
                    <Button Grid.Column="2"  x:Name="btnSave" 
                            Command="{Binding SaveInsertCommand }"
                            Content="SAVE DATA" Style="{StaticResource controlButtonGray}" HorizontalAlignment="Right" Margin="0,0,5,0" />
                    <TextBox Grid.Column="0"   x:Name="txtId" 
                       Text="{Binding  IdProfile,UpdateSourceTrigger=PropertyChanged}"
                       Style="{StaticResource controlText}"  Visibility="Hidden"/>
                </Grid>
            </Grid>
        </Border>
    </Border>
</Window>

